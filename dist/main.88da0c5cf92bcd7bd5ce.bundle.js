(()=>{"use strict";let e=2700,t=setInterval((()=>{e-=100,e<=0&&clearInterval(t)}),100),a=!1,s=!1;let o=!1;async function n(e){if(s)return;s=!0,a=!0;const t=e.target;await(async()=>await new Promise((e=>{const t=setInterval((()=>{o&&(clearInterval(t),e())}),50)})))(),setTimeout((()=>{t.oncanplaythrough=null,document.querySelector("[data-js=title-container]").classList.add("fade-in")}),2700)}const i=()=>{s=!0;const e=document.querySelector("[data-js=video]"),t=document.querySelector("[data-js=title-container]"),a=document.querySelector("[data-js=gradient-background]");e.remove(),t.classList.add("fade-in"),a.style.display="block"},r=()=>"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,l={flare:{name:"Flare - Messenger",type:"Project Type - Personal",date:"2021-06-18",description:"Flare - Messenger is a messenger app built with web technologies. It's inspired by many of the popular messaging and social media apps we use today such as Facebook Messenger, WhatsApp, Snapchat and Instagram. I built this app as a hobby project because I wanted a place I could send messages through 1 app, no matter which device or browser im using, the goal is to make a messenger app as accessible as possible. Some features includes private- and group-chats, custom profile, photo uploads, gif-files, in-app camera. I built this app using React.js, Scss, Ionic Framework, Socket.io, Express.js & MongoDB",links:{website:"https://flare-messenger.com/",github:"https://github.com/CarlssonK/flare"},background:"./assets/flare_background1.jpg"},blackjack:{name:"Blackjack Multiplayer Online",type:"Project Type - Personal",date:"2020-08-10",description:"Blackjack Multiplayer Online is an online multiplayer casino game. It's similar to the traditional blackjack played at real casinos. You can choose to play alone or play in a private room with your friends. The goal of the game is to beat the dealer and win as much money as possible.\nI built this game using pure JavaScript and Sass for the frontend. For the backend I used Express.js as well as WebSockets for real time communication.",links:{website:"https://blackjack-multiplayer.herokuapp.com/",github:"https://github.com/CarlssonK/Blackjack-Game-Multiplayer"},background:"./assets/blackjack_background.jpg"},bopshop:{name:"Bopshop.",type:"Project Type - School Project",date:"2021-09-05",description:"Bopshop is a trendy e-commerce clothing website for young audults. I worked together with 5 classmates in an agile development process where we had a total of 2 sprints, each sprint lasting 2 weeks. My main responsibilities consisted of: Setting up an Express server with cookies/sessions, managing routes and controllers, setting up a MongoDB database, creating the product; checkout; wishlist; pages, making the website compatible with Electron.js and deploying the website with Digital Ocean. \n\n Bopshop does not include any actual payment methods to buy stuff, but we made sure that the user flow gives a realistic example of how an expereince should be when doing different tasks, like purcharing products. \n\nBopshop is made with Vite React.js, Sass, Express.js, MongoDB, Mongoose, Electron.js.",links:{website:"https://bopshop-store.herokuapp.com/",github:"https://github.com/Sifon98/AgilLeverans"},background:"./assets/bopshop_background.jpg"},music:{name:"Music Visualizer",type:"Project Type - Personal",date:"2021-03-10",description:"Music Visualizer is a Spotify inspired music app that visualizes audio frequencies. Some basic features includes: play/stop song, skip to next song, skip to previous song, shuffle playlist, choose induvidual tracks from playlist etc.\nI built Music Visualizer using React.js, Sass, Web Audio API to retrieve audio frequencies and HTML Canvas to draw the spectrum and background particles.",links:{website:"https://music-visualizer-player.netlify.app/",github:"https://github.com/CarlssonK/music-visualizer"},background:"./assets/music_background.jpg"},emote:{name:"Emote Racer (Battle Royale)",type:"Project Type - Personal",date:"2021-02-10",description:"Emote Racer is a an online multiplayer <a href='https://www.twitch.tv/creatorcamp/en/learn-the-basics/emotes/' target='_blank'>Twitch Emote</a> typing/guessing game, where you try to guess the name of a given emote. It's similar to <a href='https://play.typeracer.com/' target='_blank'>typeracer.com</a>, but instead of typing out a given paragraph, you are typing names of different emotes. This game has 3 different gamemodes: Battle Royale, 1 VS 1 and Practice Alone. You also have your own profile where you can buy avatars by collecting 'YEP Coins' that is the game currency, you earn coins by winning online games (excluding when you are playing against friends). All progress is stored via Local/Web storage.\nI built Emote Racer using JavaScript, Sass, Express.js and Socket.io for real time communication.",links:{website:"https://emote-racer.herokuapp.com/",github:"https://github.com/CarlssonK/Emote-Racer"},background:"./assets/emote_background.jpg"},hemnet:{name:"Hemnet Clone",type:"Project Type - Personal",date:"2020-06-29",description:"Hemnet Clone is a 2020 clone of the Swedish real estate & housing platform <a href='https://www.hemnet.se/' target='_blank'>hemnet.se</a>. Built with VanillaJS and CSS.",links:{website:"https://carlssonk.github.io/Hemnet-clone/",github:"https://github.com/CarlssonK/Hemnet-clone"},background:"./assets/hemnet_background.jpg"},portfolio:{name:"Portfolio",type:"Project Type - Personal",date:"2021-09-08",description:"This is the website you are viewing right now! I built this website for me to keep track and showcaase my projects i've worked on thorughout my career. It's built using Vanilla JavaScript, Scss and a cool library called <a href='https://vincentgarreau.com/particles.js/' target='_blank'>particles.js</a>",links:{website:"https://www.carlssonk.com/",github:"https://github.com/CarlssonK/portfolio"},background:"./assets/preview_background.jpg"},volvo:{name:"Volvo - 3D Model",type:"Project Type - Personal",date:"2020-12-22",description:"Volvo 245 (1933) 3D render made in Blender 2.91.",background:"./assets/volvo/volvo_default.jpg",images:["./assets/volvo/volvo_default.jpg","./assets/volvo/volvo_tilt.jpg","./assets/volvo/grill.jpg"],videos:[{id:"nY-Ah8HRPHg",time:2e4}],thumbnails:["./assets/volvo/thumbnail_yt_01.jpg"]}},c=()=>{(()=>{const e=document.querySelector("[data-js=projects-list]");for(let t in l){const a=l[t];e.insertAdjacentHTML("beforeend",`\n      <li class="project-item" data-js="project-item" data-name="${t}">\n        <div class="top-bar-wrapper">\n          <div class="top-bar">\n            <label data-js="project-label">${a.name}</label>\n            <i tabindex="0" class="fas fa-info-circle info-icon"></i>\n          </div>\n          <div class="blur"></div>\n        </div>\n        ${a.links?`\n            <div class="links-container">\n              <a data-js="project-icon" target="_blank" href="${a.links.website}"><i class="fas fa-globe"></i></a>\n              <a data-js="project-icon" target="_blank" href="${a.links.github}"><i class="fab fa-github"></i></a>\n            </div>\n            `:""}\n        <img data-js="project-background" loading="lazy" src="${a.background}" alt="project background image">\n      </li>     \n      `)}})();const e=document.querySelectorAll("[data-js=project-item]"),t=document.querySelector("[data-js=project-item-big]"),a=document.querySelector("[data-js=click-catcher]"),s=document.querySelector("[data-js=background-wrapper]"),o=document.querySelector("[data-js=background-overlay]"),n=function(e){const t=e.querySelector("[data-js=project-label]"),a=e.querySelector("[data-js=project-type]"),s=e.querySelector("[data-js=project-date]"),o=e.querySelector("[data-js=project-description]"),n=e.querySelector("[data-js=project-website]"),i=e.querySelector("[data-js=project-github]"),r=e.querySelector("[data-js=project-background]"),l=e.querySelector("[data-js=project-exit]");return{label:t,type:a,date:s,description:o,website:n,github:i,background:r,exit:l}}(t);let i;e.forEach((e=>{if(e.querySelectorAll("[data-js=project-icon]").forEach((e=>{e.addEventListener("click",(e=>e.stopPropagation()))})),e.addEventListener("click",(()=>{u(e.dataset.name)})),r())return;let t=!1,a=!1;e.addEventListener("mouseenter",(()=>{t=!0;const s=l[e.dataset.name].videos;setTimeout((()=>{t&&s&&(e.insertAdjacentHTML("beforeend",`<iframe class="iframe-preview" src="https://www.youtube-nocookie.com/embed/${s[0].id}?autoplay=1&mute=1&controls=0" allowfullscreen></iframe>`),a=!0,i=setTimeout((()=>{c(e,a)}),s[0].time))}),500),setTimeout((()=>{t&&(e.style.transform="scale3d(1.1,1.1,1.1)",s&&setTimeout((()=>{e.querySelector("[data-js=project-background]").classList.add("fade-out-project-background")}),300))}),1e3)})),e.addEventListener("mouseleave",(s=>{c(e,a),t=!1,e.style.transform=""}))}));const c=(e,t)=>{if(t){t=!1,clearTimeout(i);const a=e.querySelector("[data-js=project-background]");a.classList.add("fade-in-project-background"),setTimeout((()=>{document.querySelectorAll(".iframe-preview").forEach((e=>e.remove())),a.classList.remove("fade-in-project-background","fade-out-project-background")}),400)}};let d=!1;const u=e=>{y(e),h(),a.classList.add("enable-click-catcher"),t.classList.add("scale-fade-in"),document.documentElement.style.overflowY="hidden",document.documentElement.style.setProperty("--scroll-offset","0px"),document.documentElement.style.setProperty("--scroll-width","8px"),document.documentElement.style.setProperty("--scroll-width","8px"),document.documentElement.style.setProperty("touch-action","none")};a.addEventListener("click",(()=>p())),n.exit.addEventListener("click",(()=>p()));const p=()=>{d||(h(),m(),g(),document.documentElement.style.overflowY="scroll",document.documentElement.style.setProperty("--scroll-offset","8px"),document.documentElement.style.setProperty("--scroll-width","0px"),document.documentElement.style.setProperty("touch-action",""))},m=()=>{t.classList.add("scale-fade-out"),setTimeout((()=>{j.style.display="none",o.style.visibility="visible",t.classList.remove("scale-fade-out"),t.classList.remove("scale-fade-in"),v()}),400)},g=()=>{a.classList.add("disable-click-catcher"),setTimeout((()=>{a.classList.remove("enable-click-catcher"),a.classList.remove("disable-click-catcher")}),400)},h=()=>{d=!0,setTimeout((()=>d=!1),400)},y=e=>{const t=l[e];n.label.innerText=t.name,n.type.innerText=t.type,n.date.innerText=t.date,n.description.innerHTML=t.description,t.links&&(n.website.href=t.links.website),t.links&&(n.github.href=t.links.github),b(t),t.images&&q()},b=e=>{if(e.images)for(let t=0;t<e.images.length;t++)s.insertAdjacentHTML("beforeend",`\n          <img class="slide ${t?"":"active"}" data-js="project-background" src="${e.images[t]}" alt="project background image">`);if(e.videos)for(let t=0;t<e.videos.length;t++)s.insertAdjacentHTML("beforeend",`\n        <iframe \n          class="slide" \n\n          srcdoc="<style>*{padding:0;margin:0;overflow:hidden}html,body{height:100%}img,span{position:absolute;width:100%;top:0;bottom:0;margin:auto}span{height:1.5em;text-align:center;font:48px/1.5 sans-serif;color:white;text-shadow:0 0 0.5em black}</style>\n          <a href=https://www.youtube.com/embed/${e.videos[t].id}?autoplay=1&enablejsapi=1&version=3&playerapiid=ytplayer>\n            <img src=${e.thumbnails[t]}>\n            <span>▶</span>\n          </a>"\n          frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>`);e.images||e.videos||(s.innerHTML=`<img data-js="project-background" src="${e.background}" alt="project background image">`)},v=()=>{n.label.innerText="",n.type.innerText="",n.date.innerText="",n.description.innerHTML="",n.website.href="",n.github.href="",n.background?n.background.src="":s.innerHTML=""};const f=document.querySelector("[data-js=carousel-next]"),w=document.querySelector("[data-js=carousel-prev]"),j=document.querySelector("[data-js=carousel-wrapper]");let k=0,S=!0,x=null,T=[];const q=()=>{o.style.visibility="hidden",j.style.display="block",T=[...document.querySelectorAll(".slide")],k=0,T.forEach((e=>{e.setAttribute("style","transition: transform 300ms ease; animation-duration: 300ms; filter: unset"),e.addEventListener("animationend",(()=>L(e)))}))},E=e=>{if(!S)return;S=!1,x=s.children[k],"IFRAME"===x.tagName&&x.contentWindow.postMessage('{"event":"command","func":"stopVideo","args":""}',"*"),k=(k+e)%T.length,k<0&&(k=T.length-1);const t=s.children[k],a="IMG"===t.tagName?"active":"active-video";1===e?(x.classList.add("slide-out-left"),t.classList.add("slide-in-right",a)):(x.classList.add("slide-out-right"),t.classList.add("slide-in-left",a))},L=e=>{e!==x||S||(S=!0,x.className="slide")};f.addEventListener("click",(()=>E(1))),w.addEventListener("click",(()=>E(-1)))},d=e=>{const t=e.clientHeight-window.innerHeight;document.documentElement.style.setProperty("--address-bar-height",t/2+"px")},u=async()=>{if("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0&&window.matchMedia("only screen and (max-width: 760px)").matches)return;particlesJS.load("particles-js","./assets/particles.json");pJSDom[0]||await(async()=>await new Promise((e=>{const t=setInterval((()=>{pJSDom[0]&&(clearInterval(t),e())}),100)})))();let e=pJSDom[0].pJS.particles.move.speed;const t=setInterval((()=>{e-=1,pJSDom[0].pJS.particles.move.speed=e,e<=2&&(clearInterval(t),a())}),65),a=()=>{s(),o()},s=()=>{const t=setInterval((()=>{e-=.1,pJSDom[0].pJS.particles.move.speed=parseFloat(e.toFixed(1)),e<=.6&&clearInterval(t)}),100)},o=()=>{setTimeout((()=>{let e=0;const t=setInterval((()=>{e+=.05;const a=parseFloat(e.toFixed(2));pJSDom[0].pJS.particles.line_linked.opacity=a,a>=.4&&clearInterval(t)}),100)}),900)}},p=()=>{const e=()=>{document.documentElement.style.overflowY="scroll",document.documentElement.style.setProperty("--scroll-offset","8px"),(()=>{let e=!0;const t=document.querySelector("[data-js=scroll-btn]"),a=document.querySelector("[data-js=title-wrapper]"),s=window.innerWidth<400?70:120;t.addEventListener("click",(()=>{document.documentElement.scrollTo({top:a.offsetHeight-s,behavior:"smooth"})})),setTimeout((()=>{if(0!==document.documentElement.scrollTop)return e=!1;t.style.display="block",setTimeout((()=>t.style.opacity="1"),50)}),2e3),window.onscroll=()=>{e&&(t.style.opacity="",setTimeout((()=>t.style.display=""),1e3))}})(),(()=>{const e=document.querySelector("[data-js=description]"),t=document.querySelector("[data-js=description-overlay]"),a=document.querySelector("[data-js=projects-label]");e.classList.add("fade-in");const s=e.getBoundingClientRect().bottom,o=e.offsetHeight,n=document.querySelector("[data-js=controll-height]");d(n);const i=()=>{if(r())return d(n);const i=a.getBoundingClientRect().top,l=(s-(i-20))/o;if(l>=0&&l<=1){const a=(100*(1-l)).toFixed(3),s=parseFloat((100*l).toFixed(3));e.style.clipPath=`polygon(0 0, 100% 0, 100% ${a}%, 0 ${a}%)`,t.style.background=`linear-gradient(0deg, rgba(0,0,0,1) ${s}%, rgba(255,255,255,0) ${s+20}%)`}l>1&&(e.style.clipPath="polygon(0 0, 100% 0, 100% 0%, 0 0%)"),l<0&&(e.style.clipPath="polygon(0 0, 100% 0, 100% 100%, 0 100%)",t.style.background="")};if(r()){t.style.display="none";const a=document.querySelector("[data-js=main]");a.style.backgroundColor="black",a.style.background="linear-gradient(0deg, rgba(0,0,0,1) 0%, rgba(0,0,0,1) 98%, rgba(0,0,0,0) 100%)",a.style.paddingTop="40px",e.style.zIndex="2",document.querySelector("[data-js=title-wrapper]").style.pointerEvents="none",document.querySelector(".footer").style.backgroundColor="black"}window.addEventListener("scroll",i),window.addEventListener("resize",i)})()};setTimeout((()=>e()),3e3),(()=>{const e=document.querySelector("[data-js=reveal-box]");if(r())return e.style.display="none";e.style.transform=`translate(${window.innerWidth/2-1.25*window.innerWidth}px, ${window.innerHeight/2-1.25*window.innerHeight}px)`;let t=!0;window.addEventListener("mousemove",(a=>{e.style.transform=`translate(${a.clientX-1.25*window.innerWidth}px, ${a.clientY-1.25*window.innerHeight}px)`,t&&(setTimeout((()=>e.style.transition="0ms"),200),t=!1)}))})(),(()=>{const e=document.querySelector("main"),t=document.querySelector("[data-js=title-wrapper]"),a=document.querySelector("[data-js=title-container]"),s=document.querySelector("[data-js=nav]"),o=document.querySelector("[data-js=description]");let n=!0;const i=()=>{if(!n)return;const e=t.offsetHeight,s=t.offsetWidth,i=a.offsetHeight,r=a.offsetWidth,l=o.offsetHeight,c=o.offsetWidth;let d=5;s<1200&&(d=s/250);let u=100,p=-140;s<400?(u=130,p=-60):s<576?(u=130,p=-70):s<768?(u=120,p=-90):s<992&&(u=110,p=-110),a.style.transform=`translate(${s/2-r/2}px, ${e/2-u-i/2}px) scale(${d.toFixed(3)})`,o.style.transform=`translate(${s/2-c/2}px, ${e/2-p-l/2}px)`};i(),window.onresize=i,document.addEventListener("scroll",(()=>{const o=e.getBoundingClientRect(),r=.75*t.offsetHeight;n&&o.top<r&&(n=!1,a.style.transform="translate(10px,20px) scale(1)",s.style.opacity="1"),!n&&o.top>r&&(n=!0,i(),s.style.opacity="0")})),window.onbeforeunload=()=>{window.scrollTo(0,0),t.style.opacity="0"}})(),(()=>{const e=document.querySelector("[data-js=name-input]"),t=document.querySelector("[data-js=email-input]"),a=document.querySelector("[data-js=message-input]");e.value="",t.value="",a.value=""})();document.querySelector("[data-js=title-container]").addEventListener("click",(()=>window.scrollTo({top:0,left:0,behavior:"smooth"})));const t=document.querySelector("[data-js=contact]"),a=document.querySelector("[data-js=form-anchor]");t.addEventListener("click",(()=>{a.scrollIntoView({behavior:"smooth"})})),document.querySelector("#current-year").innerText=(new Date).getFullYear()};window.addEventListener("load",(()=>{o=!0,u(),document.querySelector("[data-js=spinner-wrapper]").innerHTML='\n  <div class="spinner-box" data-js="spinner-box">\n    <div class="earth-wrapper leo">\n      <div class="planet-orbit"></div>\n      <div class="earth"></div>\n    </div>\n    <div class="mars-wrapper leo">\n      <div class="planet-orbit"></div>\n      <div class="mars"></div>\n    </div>\n    <div class="jupiter-wrapper leo">\n      <div class="planet-orbit"></div>\n      <div class="jupiter"></div>\n    </div>\n    <div class="sun-wrapper">\n      <div class="sun"></div>\n      <div class="sun-particle p1"></div>\n      <div class="sun-particle p2"></div>\n      <div class="sun-particle p3"></div>\n      <div class="sun-particle p4"></div>\n    </div>\n  </div>\n  ',setTimeout((()=>{document.querySelector("[data-js=spinner-box]").classList.add("scale-out"),c(),a||i()}),2200),p()})),window.addEventListener("beforeunload",(()=>{document.querySelector("#root").style.display="none",document.documentElement.style.overflowY="hidden",window.scrollTo(0,0)}));document.querySelector("[data-js=video]").oncanplaythrough=function(e){n(e)}})();